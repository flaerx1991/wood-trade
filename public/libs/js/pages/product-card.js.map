{"version":3,"file":"product-card.js","sources":["product-card.js"],"sourcesContent":["///////////////card slider\nif(document.body.contains(document.querySelector('.wt-item-slider'))){\n    $('.wt-item-slider').slick({\n      lazyLoad: 'ondemand',\n      arrows: true,\n      fade: true,\n    });\n    \n    $('.wt-slider-dots').slick({\n      lazyLoad: 'ondemand',\n      // infinite: true,\n      swipeToSlide: false,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      asNavFor: '.wt-item-slider',\n      centerMode: false,\n      focusOnSelect: true\n    });\n}\n\n///////////////tabs\n$('.wt-tab-button').on(\"click\", function() {\n    $(\".wt-tab-button\").removeClass(\"wt-selected\");\n    $(this).addClass('wt-selected');\n\n    var attr;\n    attr = $(this).attr('href')\n    $('.tab-content').removeClass('wt-selected');\n    $('.'+attr).addClass('wt-selected');\n});\n\n///////////// Buy form\nfunction openCloseBuyForm() {\n    let name = $('.wt-buy-form .input-name').val('');\n    let tel = $('.wt-buy-form .input-tel').val('');\n    let email = $('.wt-buy-form .input-email').val('');\n  \n    if($('.wt-buy-form .wt-message').css('display') == 'block') {\n      $('.wt-buy-form .wt-message').slideToggle(400);\n    }\n  \n    $('.wt-buy-form-section').fadeToggle();\n}\n\nlet buyFormTelInput = document.getElementById('buyFormTelInput');\nif(document.body.contains(buyFormTelInput)) {\n  buyFormTelInput.addEventListener('input', function(e){\n    var t = e.target.value.replace(/\\D/g, \"\").match(/(\\d{0,3})(\\d{0,3})(\\d{0,3})(\\d{0,3})/);\n    e.target.value = \"+\" + (t[2] ? t[1] + \"-\" + t[2] + (t[3] ? \"-\" + t[3] + (t[4] ? \"-\" + t[4] : \"\") : \"\") : t[1]);\n  })\n}\n\n$('.wt-input-file').on('change', function(){\n  let attachedFile = $(this).get(0).files[0];\n\n  if(typeof attachedFile !== \"undefined\"){\n    $(this).siblings('.wt-input-file-label').html(attachedFile.name);\n  }\n  else{\n    $(this).siblings('.wt-input-file-label').html($(this).siblings('.wt-input-file-label').attr('data-text'));\n  }\n});\n\nfunction buyFormSubmit(){\n  let message = $('.wt-buy-form .wt-message');\n\n  if(message.css('display') == 'block') {\n    $('.wt-buy-form .wt-message').slideToggle(70);\n  }\n\n  // let data = [];\n\n  let name = $('.wt-buy-form .input-name').val();\n  let tel = $('.wt-buy-form .input-tel').val();\n  let email = $('.wt-buy-form .input-email').val();\n  let inputMessage = $('.wt-buy-form .input-message').val();\n  let attachedFile = $('#input_client_file').get(0).files[0];\n\n  let formData = new FormData(); \n  formData.append('name', name);\n  formData.append('phone', tel);\n  formData.append('email', email);\n  formData.append('message', inputMessage);\n\n  if(typeof attachedFile !== \"undefined\"){\n    formData.append('file', attachedFile);\n  }\n\n  $.ajax({\n    url: \"/submit-form\",\n    type: \"post\",\n    contentType: false,\n    processData: false,\n    cache: false,\n    data: formData,\n    success: function (response) {\n      // console.log(response);\n      response = JSON.parse(response);\n\n      if(response['status']){\n        $('.wt-buy-form .wt-message').html(response['true']).css('background-color', '#d2e6d1').slideToggle(400);\n        heap.identify(email);\n        heap.addUserProperties({\n          'Account Name': name,\n          'Account Email': email,\n          'Account Phone': tel\n        });\n        heap.track('BuyByEmail');\n      }\n      else {\n        $('.wt-buy-form .wt-message').css('background-color', '#ff796f').slideToggle(400).html(response['false']);\n      }\n    },\n    error: function(jqXHR, textStatus, errorThrown) {\n        \n    }\n  });\n}"],"names":["openCloseBuyForm","$","val","css","slideToggle","fadeToggle","document","body","contains","querySelector","slick","lazyLoad","arrows","fade","swipeToSlide","slidesToShow","slidesToScroll","asNavFor","centerMode","focusOnSelect","on","attr","removeClass","this","addClass","buyFormTelInput","getElementById","buyFormSubmit","message","name","tel","email","inputMessage","attachedFile","get","files","formData","FormData","append","ajax","url","type","contentType","processData","cache","data","success","response","JSON","parse","html","heap","identify","addUserProperties","Account Name","Account Email","Account Phone","track","error","jqXHR","textStatus","errorThrown","addEventListener","e","t","target","value","replace","match","siblings"],"mappings":"AAgCA,SAASA,mBACMC,EAAE,4BAA4BC,IAAI,IACnCD,EAAE,2BAA2BC,IAAI,IAC/BD,EAAE,6BAA6BC,IAAI,IAEI,SAAhDD,EAAE,4BAA4BE,IAAI,YACnCF,EAAE,4BAA4BG,YAAY,KAG5CH,EAAE,wBAAwBI,aAxC3BC,SAASC,KAAKC,SAASF,SAASG,cAAc,sBAC7CR,EAAE,mBAAmBS,MAAM,CACzBC,SAAU,WACVC,QAAQ,EACRC,MAAM,IAGRZ,EAAE,mBAAmBS,MAAM,CACzBC,SAAU,WAEVG,cAAc,EACdC,aAAc,EACdC,eAAgB,EAChBC,SAAU,kBACVC,YAAY,EACZC,eAAe,KAKrBlB,EAAE,kBAAkBmB,GAAG,QAAS,WAI5B,IAAIC,EAHJpB,EAAE,kBAAkBqB,YAAY,eAChCrB,EAAEsB,MAAMC,SAAS,eAGjBH,EAAOpB,EAAEsB,MAAMF,KAAK,QACpBpB,EAAE,gBAAgBqB,YAAY,eAC9BrB,EAAE,IAAIoB,GAAMG,SAAS,iBAgBzB,IAAIC,gBAAkBnB,SAASoB,eAAe,mBAmB9C,SAASC,gBACP,IAAIC,EAAU3B,EAAE,4BAEa,SAA1B2B,EAAQzB,IAAI,YACbF,EAAE,4BAA4BG,YAAY,IAK5C,IAAIyB,EAAO5B,EAAE,4BAA4BC,MACrC4B,EAAM7B,EAAE,2BAA2BC,MACnC6B,EAAQ9B,EAAE,6BAA6BC,MAC3C,IAAI8B,EAAe/B,EAAE,+BAA+BC,MAChD+B,EAAehC,EAAE,sBAAsBiC,IAAI,GAAGC,MAAM,GAExD,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQT,GACxBO,EAASE,OAAO,QAASR,GACzBM,EAASE,OAAO,QAASP,GACzBK,EAASE,OAAO,UAAWN,QAEA,IAAjBC,GACRG,EAASE,OAAO,OAAQL,GAG1BhC,EAAEsC,KAAK,CACLC,IAAK,eACLC,KAAM,OACNC,aAAa,EACbC,aAAa,EACbC,OAAO,EACPC,KAAMT,EACNU,QAAS,SAAUC,IAEjBA,EAAWC,KAAKC,MAAMF,IAEF,QAClB9C,EAAE,4BAA4BiD,KAAKH,EAAe,MAAG5C,IAAI,mBAAoB,WAAWC,YAAY,KACpG+C,KAAKC,SAASrB,GACdoB,KAAKE,kBAAkB,CACrBC,eAAgBzB,EAChB0B,gBAAiBxB,EACjByB,gBAAiB1B,IAEnBqB,KAAKM,MAAM,eAGXxD,EAAE,4BAA4BE,IAAI,mBAAoB,WAAWC,YAAY,KAAK8C,KAAKH,EAAgB,QAG3GW,MAAO,SAASC,EAAOC,EAAYC,OApEpCvD,SAASC,KAAKC,SAASiB,kBACxBA,gBAAgBqC,iBAAiB,QAAS,SAASC,GACjD,IAAIC,EAAID,EAAEE,OAAOC,MAAMC,QAAQ,MAAO,IAAIC,MAAM,wCAChDL,EAAEE,OAAOC,MAAQ,KAAOF,EAAE,GAAKA,EAAE,GAAK,IAAMA,EAAE,IAAMA,EAAE,GAAK,IAAMA,EAAE,IAAMA,EAAE,GAAK,IAAMA,EAAE,GAAK,IAAM,IAAMA,EAAE,MAI/G/D,EAAE,kBAAkBmB,GAAG,SAAU,WAC/B,IAAIa,EAAehC,EAAEsB,MAAMW,IAAI,GAAGC,MAAM,QAEb,IAAjBF,EACRhC,EAAEsB,MAAM8C,SAAS,wBAAwBnB,KAAKjB,EAAaJ,MAG3D5B,EAAEsB,MAAM8C,SAAS,wBAAwBnB,KAAKjD,EAAEsB,MAAM8C,SAAS,wBAAwBhD,KAAK"}